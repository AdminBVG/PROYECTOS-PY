{% extends "base.html" %}
{% block title %}Panel Asistencia{% endblock %}
{% block content %}
<header class="header">
  <h1>Panel de Asistencia</h1>
  <a class="logout" href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt"></i> Cerrar sesi√≥n</a>
</header>
<div class="card">
  <h2>Votaciones asignadas</h2>
  <ul>
    {% for v in votaciones %}
      <li>{{ v['id'] }} - {{ v['nombre'] }}</li>
    {% else %}
      <li>No hay votaciones asignadas</li>
    {% endfor %}
  </ul>
</div>
<div class="card">
  <h2>Control de asistencia</h2>
  <div id="clock"></div>
  <div class="filters">
    <input id="search" placeholder="Buscar por nombre">
    <select id="filterEstado">
      <option value="">Todos</option>
      <option value="PRESENCIAL">Presente</option>
      <option value="AUSENTE">Ausente</option>
      <option value="VIRTUAL">Virtual</option>
    </select>
  </div>
  <div class="actions">
    <button id="markAll">Marcar todos como presentes</button>
    <button id="clearAll">Limpiar asistencia</button>
    <button id="save">Guardar</button>
  </div>
  <table id="tablaAsistencia">
    <thead>
      <tr>
        <th>Accionista</th>
        <th>Representante</th>
        <th>Apoderado</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div id="summary"></div>
</div>
<script src="{{ url_for('static', filename='js/asistencia.js') }}"></script>
{% endblock %}
